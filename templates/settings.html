{% extends "base.html" %}
{% block content %}
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/settings.css') }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"/>
{% endblock %}

<div id="appContainer">
  {% include "partials/header.html" %}
  <div id="appContent">
    {% include "partials/sidebar.html" %}

    <main class="main-panel">
      <div class="container main-content">
        <div id="settingsPage">
          <div class="page-header">
            <h2 class="page-title">Account Settings</h2>
            <p class="page-subtitle">Manage your personal information and security.</p>
          </div>

          <div class="settings-grid">
            <!-- Profile Information -->
            <section class="settings-section">
              <h3 class="section-title">Profile Information</h3>
              <div class="form-group">
                <label class="form-label">Full Name</label>
                <input type="text" class="form-input" id="settingsName" value="{{ user_info.name }}" />
              </div>
              <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" class="form-input" id="settingsEmail" value="{{ user_info.email }}" />
              </div>
              <div class="form-group">
                <label class="form-label">Phone</label>
                <input type="text" class="form-input" id="settingsPhone" value="{{ user_info.phone }}" />
              </div>
              <button class="btn btn-primary" onclick="updateProfile()">Save Changes</button>
              <div id="profileMessage" class="message-box"></div>
            </section>

            <!-- Security -->
            <section class="settings-section">
              <h3 class="section-title">Security</h3>
              <div class="form-group">
                <label class="form-label">Current Password</label>
                <input type="password" class="form-input password" id="currentPassword" />
                <i class="eye bi bi-eye-slash"></i>
              </div>
              <div class="form-group">
                <label class="form-label">New Password</label>
                <input type="password" class="form-input password" id="newPassword" />
                <i class="eye bi bi-eye-slash"></i>
              </div>
              <div class="form-group">
                <label class="form-label">Confirm New Password</label>
                <input type="password" class="form-input password" id="confirmPassword" />
                <i class="eye bi bi-eye-slash"></i>
              </div>
              <button class="btn btn-secondary" onclick="changePassword()">Update Password</button>
              <div id="passwordMessage" class="message-box"></div>
            </section>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>

<script src="{{ url_for('static', filename='js/settings.js') }}"></script>
<script src="{{ url_for('static', filename='js/pass-toggle.js') }}"></script>
{% endblock %}
